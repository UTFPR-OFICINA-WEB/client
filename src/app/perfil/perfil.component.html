<link rel="stylesheet" type="text/css" class=".../styles.css">
<div _ngcontent-c2="" class="col-lg-12">
  <section _ngcontent-c2="" class="box ">
    <header _ngcontent-c2="" class="panel_header">
      <h4 _ngcontent-c2="" class="title pull-left title1">Perfil</h4>
      <button *ngIf="hasRole('ADMIN')"
      class="btn btn-primary botao"  (click)="novo()">Criar novo</button>

        <p-table [value]="perfils">
          <ng-template pTemplate="header">
            <tr>
              <th class="ids">ID</th>
              <th>Nome</th>
              <th class="acoes">Ações</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-perfil>
            <tr>
              <td>{{perfil.id}}</td>
              <td>{{perfil.nome}}</td>
              <td>
                <button *ngIf="hasRole('ADMIN')"
                  class="btn btn-primary" (click)="editar(perfil)">
                  <i class="fa fa-edit"></i>
                </button>
               
                <button *ngIf="hasRole('ADMIN')" 
                    class="btn btn-danger" (click)="confirmDelete(perfil)">
                    <i class="fa fa-trash"></i>
                </button>

              </td>
            </tr>
          </ng-template>
        </p-table>
    </header>
    <div _ngcontent-c2="" class="content-body">
    </div>
  </section>
</div>

<p-confirmDialog></p-confirmDialog>

<p-growl [(value)]="msgs"></p-growl>


<p-dialog header="Cadastro"
          [(visible)]="showDialog"
          modal="modal"
          [responsive]="true"
          [width]="500">

  <div class="row">

    <div class="col-sm-12">
      <div class="form-group">
        <label for="nome">Nome</label>
        <input type="text"
               id="nome"
               name="nome"
               class="form-control"
               [(ngModel)]="perfilEdit.nome" required>

        <h5>Permissões</h5>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-8"><p-checkbox name="admin" value="ADMIN" label="Usuario ADMIN" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Atividade:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="funcionario" value="ATIVIDADE_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="funcionario" value="ATIVIDADE_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="funcionario" value="ATIVIDADE_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Atributo:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="atributo" value="ATRIBUTO_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="atributo" value="ATRIBUTO_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="atributo" value="ATRIBUTO_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Atributo Funcionario:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="atributof" value="ATRIBUTOF_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="atributof" value="ATRIBUTOF_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="atributof" value="ATRIBUTOF_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Cargo:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="cargo" value="CARGO_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="cargo" value="CARGO_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="cargo" value="CARGO_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Cartao Ponto:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="ponto" value="PONTO_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="ponto" value="PONTO_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="ponto" value="PONTO_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Centro de Custo:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="centrocusto" value="CENTROCUSTO_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="centrocusto" value="CENTROCUSTO_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="centrocusto" value="CENTROCUSTO_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Cliente:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="cliente" value="CLIENTE_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="cliente" value="CLIENTE_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="cliente" value="CLIENTE_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Fornecedor:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="fornecedor" value="FORNECEDOR_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="fornecedor" value="FORNECEDOR_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="fornecedor" value="FORNECEDOR_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Funcionario:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="funcionario" value="FUNCIONARIO_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="funcionario" value="FUNCIONARIO_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="funcionario" value="FUNCIONARIO_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Nota:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="nota" value="NOTA_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="nota" value="NOTA_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="nota" value="NOTA_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Obra:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="obra" value="OBRA_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="obra" value="OBRA_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="obra" value="OBRA_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Produto/Servico:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="produto" value="PRODUTO_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="produto" value="PRODUTO_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="produto" value="PRODUTO_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Requisitos:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="requisitos" value="REQUISITOS_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="requisitos" value="REQUISITOS_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="requisitos" value="REQUISITOS_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Relatorios:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-6"><p-checkbox name="bancohoras" value="RELATORIOBANCOHORAS" label="Banco de Horas" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Setor:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="setor" value="SETOR_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="setor" value="SETOR_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="setor" value="SETOR_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

        <label>Usuario:</label>
        <div class="ui-g" style="width:300px;margin-bottom:10px">
          <div class="ui-g-4"><p-checkbox name="usuario" value="USUARIO_CRIAR" label="Criar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="usuario" value="USUARIO_EDITAR" label="Editar" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
          <div class="ui-g-4"><p-checkbox name="usuario" value="USUARIO_REMOVER" label="Remover" [(ngModel)]="perfilEdit.permissoes"></p-checkbox></div>
        </div>

      </div>
    </div>

  </div>


  <p-footer>

    <button type="button" class="btn btn-default" (click)="showDialog = false">Cancelar</button>
    <button type="button" class="btn btn-success" (click)="salvar()">Salvar</button>
  </p-footer>
</p-dialog>
